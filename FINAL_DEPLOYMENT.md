# üöÄ –§–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é lvlmart.kz

## ‚úÖ **–ü–†–û–ï–ö–¢ –ì–û–¢–û–í –ö –î–ï–ü–õ–û–Æ!**

### **üìã –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
- ‚úÖ **URL**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –ª—é–±–æ–≥–æ –¥–æ–º–µ–Ω–∞
- ‚úÖ **–¢–æ–∫–µ–Ω—ã**: –†–∞–±–æ—Ç–∞–µ—Ç —Å access_token (–¥–∞–∂–µ –±–µ–∑ refresh_token)
- ‚úÖ **LockManager**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üåê **–î–ï–ü–õ–û–ô –ù–ê VERCEL:**

### **1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [vercel.com](https://vercel.com)
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `aimail77777/zakupkaproduct`
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `lvlmart-frontend`

### **2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ Vercel –¥–æ–±–∞–≤—å—Ç–µ:

```
NEXT_PUBLIC_SITE_URL = https://lvlmart.kz
NEXT_PUBLIC_SUPABASE_URL = https://fhiansdewwuvdkbqrqlc.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZoaWFuc2Rld3d1dmRrYnFycWxjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NTUzMjMsImV4cCI6MjA2OTQzMTMyM30.BV9jRbyx79_qm3yKOYxhxU_zuGc_0ZeUmApcL6W_hpA
NEXT_PUBLIC_ADMIN_EMAIL = hekgen01@gmail.com
```

### **3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞:**
1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí Domains
2. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω: `lvlmart.kz`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º Vercel

---

## üîß **–ù–ê–°–¢–†–û–ô–ö–ê SUPABASE:**

### **1. URL Configuration:**
**–ó–∞–π–¥–∏—Ç–µ –≤ Supabase Dashboard ‚Üí Authentication ‚Üí URL Configuration**

- **Site URL**: `https://lvlmart.kz`
- **Redirect URLs**:
  ```
  https://lvlmart.kz/auth/callback
  https://lvlmart.kz/reset-password
  https://lvlmart.kz/auth/callback?type=recovery
  ```

### **2. Email Template:**
**–ó–∞–π–¥–∏—Ç–µ –≤ Authentication ‚Üí Email Templates ‚Üí Reset Password**

**Subject:**
```
–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è –¥–ª—è lvlmart
```

**Body:**
```html
<h2>–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è</h2>
<p>–í—ã –∑–∞–ø—Ä–æ—Å–∏–ª–∏ —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è –¥–ª—è –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ lvlmart.</p>
<p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å:</p>
<p><a href="{{ .ConfirmationURL }}">–°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å</a></p>
<p>–ï—Å–ª–∏ –≤—ã –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏ —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è, –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ —ç—Ç–æ –ø–∏—Å—å–º–æ.</p>
<p>–°—Å—ã–ª–∫–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.</p>
```

---

## üß™ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø:**

### **1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- [ ] –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `https://lvlmart.kz`
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- [ ] –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

### **2. –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è:**
- [ ] –ó–∞–ø—Ä–æ—Å —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ email —Å —Å—Å—ã–ª–∫–æ–π
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ (–¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ñ–æ—Ä–º–∞)
- [ ] –£—Å–ø–µ—à–Ω—ã–π —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
- [ ] –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥ –ø–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞

### **3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- [ ] –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞
- [ ] –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ—Ñ–∏–ª—é –≤–æ –≤—Ä–µ–º—è recovery
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

---

## üìä **–û–ñ–ò–î–ê–ï–ú–´–ï –õ–û–ì–ò:**

### **–ü—Ä–∏ —Å–±—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è:**
```javascript
URL params: { accessToken: true, refreshToken: false, type: "recovery" }
Access token found, allowing password reset...
Only access token available, allowing reset without session
[SECURITY] PASSWORD_RESET_ACCESS_TOKEN_ONLY: { ... }
```

### **–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Å–±—Ä–æ—Å–µ:**
```javascript
[SECURITY] PASSWORD_RESET_SUCCESS: { userEmail: "user@example.com" }
```

---

## üÜò **–ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:**

### **–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email template –≤ Supabase
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Redirect URLs –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel

### **–û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ `[SECURITY]`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ JavaScript

### **–°—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ localhost:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `NEXT_PUBLIC_SITE_URL` –≤ Vercel
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üéØ **–§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö-–õ–ò–°–¢:**

- [ ] –ö–æ–¥ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –≤ Git –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] Vercel –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Vercel
- [ ] –î–æ–º–µ–Ω `lvlmart.kz` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Vercel
- [ ] Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ URL
- [ ] Email template –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ

---

## üéâ **–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!**

**–í–∞—à –ø—Ä–æ–µ–∫—Ç lvlmart –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –Ω–∞ `https://lvlmart.kz`!**

### **üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:**
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `DEPLOYMENT.md`, `SUPABASE_TOKEN_SETUP.md`
- **–õ–æ–≥–∏**: Vercel Dashboard, Supabase Dashboard, –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ `[SECURITY]` –≤ –∫–æ–Ω—Å–æ–ª–∏

**–£–¥–∞—á–∏ —Å –∑–∞–ø—É—Å–∫–æ–º! üöÄ‚ú®**
